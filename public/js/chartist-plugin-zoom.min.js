!function(t,n,e){"use strict";var i={pointClipOffset:5,zoomActivationThreshold:{x:5,y:5}};function o(t){t.attr({style:"display:none"})}function a(t){t.attr({style:"display:block"})}function r(t,n){var e=t.x,i=t.y,o=n.x-e,a=n.y-i;return o<0&&(o=-o,e=n.x),a<0&&(a=-a,i=n.y),{x:e,y:i,width:o,height:a}}function h(t,n){return function(t,n,e){var i="svg"===e.tagName?e:e.ownerSVGElement,o=i.getScreenCTM(),a=i.createSVGPoint();return a.x=t,a.y=n,(a=a.matrixTransform(o.inverse()))||{x:0,y:0}}(t.clientX,t.clientY,n)}function u(t,n){var e=n.bounds||n.range,i=e.max,o=e.min;if(n.scale&&"log"===n.scale.type){var a=n.scale.base;return Math.pow(a,t*function(t,n){return Math.log(t)/Math.log(n)}(i/o,a)/n.axisLength)*o}return t*(e.range||i-o)/n.axisLength+o}e.plugins=e.plugins||{},e.plugins.zoom=function(t){var n=(t=e.extend({},i,t)).zoomActivationThreshold;return t.zoomActivationThreshold="number"==typeof t.zoomActivationThreshold?{x:n,y:n}:n,function(n){if(n instanceof e.Line){var i,s,c,l,f,g,v=t.onZoom,d=[];n.on("draw",function(t){var n=t.type;"line"!==n&&"bar"!==n&&"area"!==n||t.element.attr({"clip-path":"url(#line-mask)"})}),n.on("created",function(e){c=e.axisX,l=e.axisY,f=e.chartRect,s=e.svg._node,o(i=e.svg.elem("rect",{x:10,y:10,width:100,height:100},"ct-zoom-rect"));var a=e.svg.querySelector("defs")||e.svg.elem("defs"),r=f.width(),h=f.height();function u(t,n){a.elem("clipPath",{id:t}).elem("rect",{x:f.x1-n,y:f.y2-n,width:r+n+n,height:h+n+n,fill:"white"})}u("line-mask",0),u("point-mask",t.pointClipOffset);var g=n.svg.querySelectorAll("."+e.options.classNames.series);g=g?g.svgElements:[];for(var v=0;v<g.length;++v)g[v].attr({"clip-path":"url(#point-mask)"});function d(t,n){s.addEventListener(t,n)}d("mousedown",z),d("mouseup",A),d("mousemove",S),d("touchstart",y),d("touchmove",w),d("touchend",b),d("touchcancel",T)});var m=function(){n.options.axisX.highLow=null,n.options.axisY.highLow=null,n.update(n.data,n.options)}}function p(t){var n=h(t,s);return n.id=t.identifier,n}function x(t){for(var n=0;n<d.length;n++){if(d[n].id===t)return n}return-1}function y(t){for(var n=t.changedTouches,e=0;e<n.length;e++)d.push(p(n[e]));d.length>1&&(i.attr(r(d[0],d[1])),a(i))}function w(t){for(var n=t.changedTouches,e=0;e<n.length;e++){var o=x(n[e].identifier);d.splice(o,1,p(n[e]))}d.length>1&&(i.attr(r(d[0],d[1])),a(i),t.preventDefault())}function T(t){M(t.changedTouches)}function M(t){for(var n=0;n<t.length;n++){var e=x(t[n].identifier);e>=0&&d.splice(e,1)}}function b(t){d.length>1&&k(r(d[0],d[1])),M(t.changedTouches),o(i)}function z(t){if(0===t.button){var n=h(t,s);L(n,f)&&(g=n,i.attr(r(g,g)),a(i),t.preventDefault())}}function L(t,n){return t.x>=n.x1&&t.x<=n.x2&&t.y>=n.y2&&t.y<=n.y1}function A(n){0===n.button&&g?(k(r(g,h(n,s))),g=null,o(i)):t.resetOnRightMouseBtn&&2===n.button&&(m(),n.preventDefault())}function k(e){if(e.width>t.zoomActivationThreshold.x&&e.height>t.zoomActivationThreshold.y){var i=Math.max(0,e.x-f.x1),o=Math.min(f.width(),i+e.width),a=Math.min(f.height(),f.y1-e.y),r=Math.max(0,a-e.height);n.options.axisX.highLow={low:u(i,c),high:u(o,c)},n.options.axisY.highLow={low:u(r,l),high:u(a,l)},n.update(n.data,n.options),v&&v(n,m)}}function S(t){if(g){var n=h(t,s);L(n,f)&&(i.attr(r(g,n)),t.preventDefault())}}}}}(window,document,Chartist);